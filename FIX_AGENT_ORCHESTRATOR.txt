# üîß FIX AGENT ORCHESTRATOR - FORCE UPDATE

# The issue is that the old agent_orchestrator.py is still in the container
# Let's force update it and verify

# Step 1: Check what's currently in the container
docker exec watchvine_main_app head -20 /app/agent_orchestrator.py

# Step 2: Force copy the updated version (overwrite)
docker cp updated_agent_orchestrator.py watchvine_main_app:/app/agent_orchestrator.py

# Step 3: Verify the file was actually updated
docker exec watchvine_main_app head -20 /app/agent_orchestrator.py

# Step 4: Also copy the enhanced backend classifier
docker cp enhanced_backend_tool_classifier.py watchvine_main_app:/app/enhanced_backend_tool_classifier.py

# Step 5: Restart container
docker restart watchvine_main_app
sleep 20

# Step 6: Check logs to see if error is gone
docker logs --tail=30 watchvine_main_app

# Step 7: Test imports manually
docker exec watchvine_main_app python -c "
import sys
print('Python path:', sys.path)
try:
    exec(open('/app/agent_orchestrator.py').read())
    print('‚úÖ Agent orchestrator file syntax OK')
except Exception as e:
    print(f'‚ùå Syntax error: {e}')
"